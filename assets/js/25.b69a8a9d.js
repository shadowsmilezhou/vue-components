(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{184:function(e,t,n){},185:function(e,t,n){},285:function(e,t,n){"use strict";var i=n(184);n.n(i).a},286:function(e,t,n){"use strict";var i=n(185);n.n(i).a},315:function(e,t,n){"use strict";n.r(t);n(172);var i=n(213),r=(n(53),{components:{GIcon:n(48).a},name:"gTable",data:function(){return{expendedIds:[]}},props:{height:{type:Number},expendField:{type:String},orderBy:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:!1},striped:{type:Boolean,default:!0},selectedItems:{type:Array,default:function(){return[]}},compact:{type:Boolean,default:!1},columns:{type:Array,required:!0},dataSource:{type:Array,required:!0,validator:function(e){return!(e.filter(function(e){return void 0===e.id}).length>0)}},numberVisible:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1}},mounted:function(){var e=this.$refs.table.cloneNode(!1);this.table2=e,e.classList.add("g-table-copy");var t=this.$refs.table.children[0],n=t.getBoundingClientRect().height;if(this.$refs.tableWrapper.style.marginTop=n+"px",this.$refs.tableWrapper.style.height=this.height-n+"px",e.appendChild(t),this.$refs.wrapper.appendChild(e),this.$scopedSlots.default){var i=this.$refs.actions[0],r=i.getBoundingClientRect().width,s=i.parentNode,d=getComputedStyle(s),a=d.getPropertyValue("padding-left"),o=d.getPropertyValue("padding-right"),c=d.getPropertyValue("border-left-width"),l=d.getPropertyValue("border-right-width"),u=r+parseInt(a)+parseInt(o)+parseInt(c)+parseInt(l)+"px";this.$refs.actionsHeader.style.width=u,this.$refs.actions.map(function(e){e.parentNode.style.width=u})}},beforeDestroy:function(){this.table2.remove()},computed:{areAllItemsSelected:function(){var e=this.dataSource.map(function(e){return e.id}).sort(),t=this.selectedItems.map(function(e){return e.id}).sort();if(e.length!==t.length)return!1;for(var n=!0,i=0;i<e.length;i++)if(e[i]!==t[i]){n=!1;break}return n},expendedCellColSpan:function(){var e=0;return this.checkable&&(e+=1),this.expendField&&(e+=1),this.numberVisible&&(e+=1),this.$scopedSlots.default&&(e+=1),e}},watch:{selectedItems:function(){this.selectedItems.length===this.dataSource.length?this.$refs.allChecked.indeterminate=!1:0===this.selectedItems.length?this.$refs.allChecked.indeterminate=!1:this.$refs.allChecked.indeterminate=!0}},methods:{inExpendedIds:function(e){return this.expendedIds.indexOf(e)>=0},expendItem:function(e,t){t.target.classList.contains("animate")?t.target.classList.remove("animate"):t.target.classList.add("animate"),this.inExpendedIds(e)?this.expendedIds.splice(this.expendedIds.indexOf(e),1):this.expendedIds.push(e)},changeOrderBy:function(e){var t=JSON.parse(JSON.stringify(this.orderBy));console.log(t);var n=t[e];t[e]="asc"===n?"desc":"desc"===n||"asc",this.$emit("update:orderBy",t)},inSelectedItems:function(e){return this.selectedItems.filter(function(t){return t.id===e.id}).length>0},onChangeItem:function(e,t,n){var i=n.target.checked,r=JSON.parse(JSON.stringify(this.selectedItems));i?r.push(e):r=r.filter(function(t){return t.id!==e.id}),this.$emit("update:selectedItems",r)},onChangeAllItems:function(e){var t=e.target.checked;this.$emit("update:selectedItems",t?this.dataSource:[])}}}),s=(n(285),n(1)),d=Object(s.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"g-table-wrapper"},[n("div",{ref:"tableWrapper",style:{height:e.height,overflow:"auto"}},[n("table",{ref:"table",staticClass:"g-table",class:{bordered:e.bordered,compact:e.compact,striped:e.striped}},[n("thead",[n("tr",[e.expendField?n("th",{staticClass:"g-table-center",style:{width:"50px"}}):e._e(),e._v(" "),e.checkable?n("th",{staticClass:"g-table-center",style:{width:"50px"}},[n("input",{ref:"allChecked",attrs:{type:"checkbox"},domProps:{checked:e.areAllItemsSelected},on:{change:e.onChangeAllItems}})]):e._e(),e._v(" "),e.numberVisible?n("th",{style:{width:"50px"}},[e._v("#")]):e._e(),e._v(" "),e._l(e.columns,function(t){return n("th",{key:t.field,style:{width:t.width+"px"}},[n("div",{staticClass:"g-table-header"},[e._v("\n            "+e._s(t.text)+"\n            "),t.field in e.orderBy?n("span",{staticClass:"g-table-sorter",on:{click:function(n){return e.changeOrderBy(t.field)}}},[n("g-icon",{class:{active:"asc"===e.orderBy[t.field]},attrs:{name:"asc"}}),e._v(" "),n("g-icon",{class:{active:"desc"===e.orderBy[t.field]},attrs:{name:"desc"}})],1):e._e()])])}),e._v(" "),e.$scopedSlots.default?n("th",{ref:"actionsHeader"},[e._v(" 操作")]):e._e()],2)]),e._v(" "),n("tbody",[e._l(e.dataSource,function(t,i){return[n("tr",{key:t.id},[e.expendField?n("td",{staticClass:"g-table-center",style:{width:"50px"}},[n("g-icon",{staticClass:"g-table-expendIcon",attrs:{name:"forward"},on:{click:function(n){return e.expendItem(t.id,n)}}})],1):e._e(),e._v(" "),e.checkable?n("td",{staticClass:"g-table-center",style:{width:"50px"}},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.inSelectedItems(t)},on:{change:function(n){return e.onChangeItem(t,i,n)}}})]):e._e(),e._v(" "),e.numberVisible?n("td",{style:{width:"50px"}},[e._v(e._s(i+1))]):e._e(),e._v(" "),e._l(e.columns,function(i){return[n("td",{key:i.field,style:{width:i.width+"px"}},[e._v(e._s(t[i.field]))])]}),e._v(" "),e.$scopedSlots.default?n("td",[n("div",{ref:"actions",refInFor:!0,staticStyle:{display:"inline-block",width:"150px"}},[e._t("default",null,{item:t})],2)]):e._e()],2),e._v(" "),e.inExpendedIds(t.id)?n("tr",{key:t.id+"-expend"},[n("td",{attrs:{colspan:e.columns.length+e.expendedCellColSpan}},[e._v("\n            "+e._s(t[e.expendField]||"空")+"\n          ")])]):e._e()]})],2)])]),e._v(" "),e.loading?n("div",{staticClass:"g-table-loading"},[n("g-icon",{attrs:{name:"waiting"}})],1):e._e()])},[],!1,null,"5cf6fc25",null).exports,a=n(37),o=n(39),c={name:"demo",components:{GPager:i.a,GTable:d,GButton:a.a,GPopover:o.a},data:function(){return{nameVisible:!1,selected:[],columns:[{text:"姓名",field:"name",width:100},{text:"分数",field:"score",width:100},{text:"id",field:"id",width:100}],orderBy:{score:"desc"},loading:!1,dataSource:[{name:"魏  维",score:"84.29 ",id:"1",description:"hello world"},{name:"卢  路",score:"83.68 ",id:"2",description:"hello world"},{name:"王宇航",score:"82.50 ",id:"3",description:"hello world"},{name:"曹亚男",score:"81.56 ",id:"4",description:"hello world"},{name:"马  昊",score:"81.55 ",id:"5",description:"hello world"},{name:"裴亚双",score:"81.34 ",id:"6",description:"hello world"},{name:"孙  怡",score:"81.26 ",id:"7"},{name:"姚苗苗",score:"81.08 ",id:"8"},{name:"汤  幸",score:"81.03 ",id:"9"},{name:"胡甜甜",score:"80.30 ",id:"10"},{name:"兰凌寒",score:"80.29 ",id:"11"},{name:"于江楠",score:"80.12 ",id:"12"},{name:"李  文",score:"80.00 ",id:"13"},{name:"吴洋洋",score:"79.65 ",id:"14"},{name:"刘子鹏",score:"79.43 ",id:"15"},{name:"庄蕾蕾",score:"79.15 ",id:"16"},{name:"崔丽丽",score:"79.11 ",id:"17"},{name:"刘  煜",score:"79.04 ",id:"18"},{name:"刘彦君",score:"78.97 ",id:"19"},{name:"何庚唅",score:"78.72 ",id:"20"},{name:"彭  欣",score:"78.69 ",id:"21"},{name:"张  婷",score:"78.66 ",id:"22"},{name:"裴天天",score:"78.64 ",id:"23"},{name:"段  金",score:"78.59 ",id:"24"},{name:"田  文",score:"78.22 ",id:"25"},{name:"陈佩阳",score:"78.17 ",id:"26"},{name:"任  杉",score:"78.15 ",id:"27"},{name:"周  莹",score:"78.12 ",id:"28"},{name:"宋  柯",score:"77.80 ",id:"29"},{name:"韩小雨",score:"77.67 ",id:"30"}],name:'\n   <g-table :number-visible="true" :columns="columns" :data-source="dataSource" bordered :selected-items.sync="selected" :order-by.sync="orderBy"\n           @update:orderBy="sorted" :loading="loading" :height="400" expend-field="description" checkable>\n    <template slot-scope="slotValue">\n      <button @click="edit(slotValue.item)">编辑</button>\n      <button @click="view(slotValue.item)">查看</button>\n      <button @click="deleteItem(slotValue.item)">删除</button>\n    </template>\n  </g-table>\n\n            '}},methods:{displayName:function(){this.nameVisible=!this.nameVisible},edit:function(e){alert("开始编辑".concat(e.id))},view:function(e){alert("开始查看".concat(e.id))},deleteItem:function(e){console.log("delete");var t=this.dataSource.indexOf(e);this.dataSource.splice(t,1)},sorted:function(e){var t=this;this.loading=!0,setTimeout(function(){"asc"===e.score?t.dataSource=t.dataSource.sort(function(e,t){return e.score-t.score}):t.dataSource=t.dataSource.sort(function(e,t){return t.score-e.score}),t.loading=!1},1e3)}}},l=(n(286),Object(s.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{margin:"20px"}},[n("g-table",{attrs:{"number-visible":!0,columns:e.columns,"data-source":e.dataSource,bordered:"","selected-items":e.selected,"order-by":e.orderBy,loading:e.loading,height:400,"expend-field":"description",checkable:""},on:{"update:selectedItems":function(t){e.selected=t},"update:selected-items":function(t){e.selected=t},"update:orderBy":[function(t){e.orderBy=t},e.sorted],"update:order-by":function(t){e.orderBy=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("button",{on:{click:function(n){return e.edit(t.item)}}},[e._v("编辑")]),e._v(" "),n("button",{on:{click:function(n){return e.view(t.item)}}},[e._v("查看")]),e._v(" "),n("button",{on:{click:function(n){return e.deleteItem(t.item)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("div",{staticStyle:{margin:"20px 0"}},[n("g-popover",{attrs:{position:"top",trigger:"hover"}},[n("template",{slot:"content"},[n("div",[e._v("查看代码")])]),e._v(" "),n("g-button",{staticStyle:{"border-color":"black"},attrs:{icon:"desc","icon-position":"right"},on:{click:e.displayName}},[e._v("表格组件")])],2),e._v(" "),e.nameVisible?n("pre",[n("code",[e._v(e._s(e.name))])]):e._e()],1)])},[],!1,null,"1f862eb3",null));t.default=l.exports}}]);